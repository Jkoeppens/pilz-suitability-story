<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Ich sage Pilze voraus</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Schrift: IBM Plex Sans -->
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">

  <!-- Hauptstyles -->
  <link rel="stylesheet" href="style.css?v=12">
  <!-- Markdown-Parser -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js">
  </script>

</head>

<body>

  <div class="overlay-model hidden">
    <div class="overlay-model-inner">
      <iframe
        src="surrogate_tree.html"
        class="model-frame"
        loading="lazy">
      </iframe>
    </div>
  </div>

<div id="app">

  <!-- ======================================
       STAGE-HINTERGRÜNDE + OVERLAYS
  ======================================= -->
  <div id="media-root">

    <!-- ------- STAGE 1 ------- -->
    <div class="media-group" data-stage="1">
      <img src="img/Wald.png" class="bg-img" alt="">
      <img src="img/Pilz.png" class="overlay-img overlay-pilz" alt="">
    </div>

    <!-- ------- STAGE 2 ------- -->
    <div class="media-group" data-stage="2">
      <img src="img/Sat_Berlin.png" class="bg-img" alt="">
      <img src="img/Parasolfunde.png" class="overlay-img overlay-parasole" alt="">
    </div>

    <!-- ------- STAGE 3 ------- -->
    <div class="media-group" data-stage="3">
      <img src="img/Grunewald.png" class="bg-img" alt="">
      <img src="img/Parasol_Grunewald.png" class="overlay-img overlay-parasol2" alt="">
      <img src="img/Meisenfunde_Grunewald.png" class="overlay-img overlay-meisen" alt="">
    </div>

    <!-- ------- STAGE 4 -------
        Satellitenblick: Berlin + Fundpunkte
    -------------------------- -->
    <div class="media-group" data-stage="4">
      <img src="img/Sat_Berlin.png" class="bg-img" alt="">

      <img class="overlay-img overlay-fundpunkte-berlin_stg4"
          src="img/Fundpunkte_all_berlin.png" alt="">
    </div>

    <!-- ------- STAGE 5 -------
        Viererkarte: Daten & Signaturen
    -------------------------- -->
    <div class="media-group" data-stage="5">
      <img src="img/Satteliten_Viererkarte.png" class="bg-img">

      <img class="overlay-img overlay-fundpunkte-berlin"
          src="img/Fundpunkte_all_berlin.png">

      <!-- Legenden -->
      <div class="corner-label top-left legend legend-moran">
        <div class="legend-title">Local Moran</div>
        <div class="legend-bar"></div>
        <div class="legend-sub" data-i18n="legend_moran_sub">lokale Clusterung</div>
      </div>

      <div class="corner-label top-right legend legend-geary">
        <div class="legend-title">Local Geary</div>
        <div class="legend-bar"></div>
        <div class="legend-sub" data-i18n="legend_geary_sub">lokaler Kontrast</div>
      </div>

      <div class="corner-label bottom-left legend legend-ndwi">
        <div class="legend-title">NDWI</div>
        <div class="legend-bar"></div>
        <div class="legend-sub" data-i18n="legend_ndwi_sub">Feuchte</div>
      </div>

      <div class="corner-label bottom-right legend legend-ndvi">
        <div class="legend-title">NDVI</div>
        <div class="legend-bar"></div>
        <div class="legend-sub" data-i18n="legend_ndvi_sub">Vegetation</div>
      </div>

      <!-- optional -->
      <img class="overlay-img overlay-fundpunkte-map"
          src="img/Fundpunkte_all_berlin.png" alt="">
    </div>

  </div> <!-- END media-root -->


  <!-- ======================================
       FULLSCREEN HTML OVERLAY (Surrogate Tree)
       WICHTIG: außerhalb von #media-root!
  ======================================= -->


<!-- ======================================
     FULLSCREEN PREDICTION MAP
======================================= -->
<div id="prediction-map" class="hidden">
  
  <button id="map-exit-btn" data-i18n="map_back">← Zurück</button>
  <div class="map-legend">
    <div class="legend-gradient"></div>
    <div class="legend-labels">
      <span>0</span>
      <span data-i18n="map_suitability_title">Eignung für Parasole</span>
      <span>1</span>
    </div>
  </div>

  <div id="suit-map-inner"></div> <!-- Leaflet map FULLSCREEN -->

</div>

  <!-- ======================================
       INTRO (NICHT SCROLL-STORY)
  ======================================= -->
  <section id="intro">
    <article class="intro-block">
      <div id="intro-md" data-md="slide1_01_intro.md"></div>
    </article>
  </section>


  <!-- ======================================
       SCROLL-STORY REGION
  ======================================= -->
  <main id="scroll-root">

    <!-- Intro Anchor -->
    <article class="step step--invisible"
             data-stage="1"
             data-intro-step="true">
    </article>

    <!-- ======= STAGE 1 ======= -->
    <article class="step step--invisible"
             data-stage="1"
             data-overlay="overlay-pilz">
    </article>

    <article class="step"
             data-stage="1"
             data-md="slide1_02_body.md">
    </article>

    <article class="step step--invisible"
             data-stage="1"
             style="height: 100vh;">
    </article>


    <!-- ======= STAGE 2 ======= -->
    <article class="step step--invisible"
             data-stage="2"
             data-overlay="overlay-parasole">
    </article>

    <article class="step"
             data-stage="2"
             data-md="slide2_01_intro.md">
    </article>

    <article class="step"
             data-stage="2"
             data-md="slide2_02_parasol.md">
    </article>


    <!-- ======= STAGE 3 ======= -->
    <article class="step step--invisible"
             data-stage="3"
             data-overlay="overlay-parasol2">
    </article>

    <article class="step"
             data-stage="3"
             data-md="slide3_01_intro.md">
    </article>

    <article class="step step--invisible"
             data-stage="3"
             data-overlay="overlay-meisen">
    </article>

    <article class="step"
             data-stage="3"
             data-md="slide3_03_meisen.md">
    </article>
    
    <!-- ======= STAGE 4 ======= -->

    <article class="step"
             data-stage="4"
             data-overlay="overlay-fundpunkte-berlin_stg4"
             data-md="slide04_01_bias_text.md">
    </article>

    <article class="step"
            data-stage="4"
            data-md="slide4_02_signatures.md">
    </article>

    <!-- ======= STAGE 5 ======= -->

    <article class="step"
            data-stage="5"
            data-md="slide5_02_signatures_Data.md">
    </article>

    <article class="step"
            data-stage="5"
            data-overlay="overlay-fundpunkte-berlin"
            data-md="slide5_03_model_intro.md">
    </article>

    <article class="step"
            data-stage="5"
            data-overlay="overlay-fundpunkte-berlin"
            data-model="true"
            data-md="slide5_04_charts.md">
    </article>

    <article class="step"
            data-stage="5"
            data-model="true"
            data-md="slide5_05_prediction_intro.md">
    </article>

    <article class="step"
            data-stage="5"
            data-model="true"
            data-md="slide5_06_prediction_explain.md">
    </article>
    <article class="step step--spacer"
            data-stage="5"
            data-trigger="prediction-map">
    </article>

  </main>

</div> <!-- END app -->

<script src="main.js"></script>

</body>

<!-- Language Switch (fixed top-right) -->
<div id="lang-switch" class="lang-switch" aria-label="Language switch">
  <button type="button" class="lang-btn" data-lang="de">DE</button>
  <span class="lang-sep">/</span>
  <button type="button" class="lang-btn" data-lang="en">EN</button>
</div>

</html>